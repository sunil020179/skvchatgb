<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SKVChatGB — Build delightful chat experiences</title>
  <meta name="description" content="Country-aware AI chatbot for web & WhatsApp by SKV Business Service LLC." />
  <link rel="icon" href="/favicon.ico" />
  <style>
    :root{
      --bg:#0b1021; --fg:#e5ecff; --muted:#98a3b3; --chip:#1e2a48; --card:#11172b; --btn:#0ea5e9;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#0b1021,#0b1021 60%,#0a0f22);color:var(--fg)}
    .container{max-width:1100px;margin:0 auto;padding:24px}
    .nav{display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{height:36px;width:36px;border-radius:50%;background:#1b2545;display:inline-block}
    .chip{background:var(--chip);color:#bfe1ff;padding:6px 10px;border-radius:10px;font-size:12px}
    h1{font-size:42px;line-height:1.15;margin:18px 0}
    p.lead{color:var(--muted);max-width:700px}
    .row{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;margin-top:26px}
    .cta{display:flex;flex-wrap:wrap;gap:10px;margin-top:18px}
    .btn{background:var(--btn);color:#001726;border:0;padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer}
    .btn.alt{background:#1b2545;color:#cde6ff}
    .card{background:var(--card);border:1px solid #1c2742;border-radius:16px;padding:14px 14px 18px}
    .toolbar{display:flex;align-items:center;gap:10px;margin-bottom:8px}
    select, input, textarea{background:#0f162b;color:#e8f2ff;border:1px solid #243357;border-radius:10px;padding:10px}
    select{height:38px}
    .switch{display:flex;align-items:center;gap:8px}
    .bubble{background:#16213d;padding:10px 12px;border-radius:12px;margin:8px 0;max-width:95%}
    .me{background:#12325a;margin-left:auto}
    .meta{font-size:12px;color:#9fb6d8}
    .row-2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px}
    a{color:#8dd1ff;text-decoration:none}
    footer{margin:36px 0 10px;color:#7f91ad;font-size:13px}
  </style>
</head>
<body>
  <div class="container">
    <div class="nav">
      <div class="brand">
        <!-- अपना logo.png रखें तो <img src="/logo.png" class="logo" alt="SKVgb"> कर दें -->
        <div class="logo"></div>
        <strong>SKVChatGB</strong>
        <span class="chip">NEW — v1.0</span>
      </div>
      <div class="toolbar">
        <a href="#features">Features</a>
        <a href="#pricing" style="margin-left:14px">Pricing</a>
        <a href="#contact" style="margin-left:14px">Contact</a>
      </div>
    </div>

    <div class="row">
      <div>
        <h1>Build delightful chat experiences with <span style="color:#80c7ff">SKVChatGB</span></h1>
        <p class="lead">A fast, secure & country-aware AI chatbot for your website and WhatsApp. No code required.</p>
        <div class="cta">
          <button class="btn" onclick="document.getElementById('demo').scrollIntoView({behavior:'smooth'})">Try Live Demo</button>
          <a class="btn alt" href="https://wa.me/971501234567" id="waLink" target="_blank">WhatsApp Us</a>
        </div>
        <div class="row-2">
          <div class="card">
            <div class="meta">Support</div>
            <div id="supportLine">+971-50-123-4567 • info@skvchatgb.com</div>
          </div>
          <div class="card">
            <div class="meta">Selected Country</div>
            <div id="countryLine">United Arab Emirates (AE)</div>
          </div>
        </div>
      </div>

      <div class="card" id="demo">
        <div class="toolbar" style="justify-content:space-between">
          <div><strong>Live Demo</strong></div>
          <div class="switch">
            <span class="meta">Country</span>
            <select id="country"></select>
          </div>
        </div>
        <div id="chat" style="height:260px;overflow:auto;border-radius:12px;padding:6px;background:#0f162b;border:1px solid #243357">
          <div class="bubble">Hi! I am SKVChatGB. How can I help you today?</div>
        </div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <input id="msg" placeholder="Type a message..." style="flex:1" />
          <button class="btn" onclick="send()">Send</button>
        </div>
      </div>
    </div>

    <footer>© 2025 SKV Business Service LLC. All rights reserved.</footer>
  </div>

  <script>
    // --------- Country Config ---------
    const CFG = {
      defaultCountry: "AE",
      countries: {
        AE:{ name:"United Arab Emirates", lang:"en",
          contact:{ phone:"+971-50-123-4567", email:"info@skvchatgb.com", whatsapp:"971501234567" },
          system:"You are an assistant for SKV Business Services in the UAE. Focus on VAT(5%), Freezone/Mainland setup, corporate tax, visas/PRO.", model:"gpt-4o-mini"
        },
        IN:{ name:"India", lang:"hi",
          contact:{ phone:"+91-98-7654-3210", email:"info@skvchatgb.com", whatsapp:"919876543210" },
          system:"You are an assistant for SKV Business Services in India. Focus on GST, MCA incorporation, MSME/UDYAM, IEC, FSSAI, compliance.", model:"gpt-4o-mini"
        },
        HU:{ name:"Hungary", lang:"en",
          contact:{ phone:"+36-20-123-4567", email:"info@skvchatgb.com", whatsapp:"36201234567" },
          system:"You are an assistant for SKV Business Services in Hungary. Focus on Kft. setup, EU VAT, corporate tax, permits/residency, banking.", model:"gpt-4o-mini"
        },
        GB:{ name:"United Kingdom (London)", lang:"en",
          contact:{ phone:"+44-7444-123456", email:"info@skvchatgb.com", whatsapp:"447444123456" },
          system:"You are an assistant for SKV Business Services in the UK (London). Focus on LTD setup, Companies House, HMRC, VAT, PAYE.", model:"gpt-4o-mini"
        }
      }
    };

    // Populate dropdown
    const sel = document.getElementById('country');
    Object.entries(CFG.countries).forEach(([code,c])=>{
      const opt=document.createElement('option'); opt.value=code; opt.textContent=`${c.name} (${code})`; sel.appendChild(opt);
    });

    // Auto from subdomain (ae. / in. / hu. / uk.)
    const sub = location.hostname.split('.')[0].toUpperCase();
    sel.value = CFG.countries[sub] ? sub : CFG.defaultCountry;
    setCountry(sel.value);
    sel.addEventListener('change', e=> setCountry(e.target.value));

    function setCountry(code){
      const c = CFG.countries[code];
      document.getElementById('countryLine').textContent = `${c.name} (${code})`;
      document.getElementById('supportLine').textContent = `${c.contact.phone} • ${c.contact.email}`;
      document.getElementById('waLink').href = `https://wa.me/${c.contact.whatsapp}`;
    }

    // Chat
    const chat = document.getElementById('chat'), input = document.getElementById('msg');
    function push(text, me=false){
      const div=document.createElement('div'); div.className='bubble'+(me?' me':''); div.textContent=text; chat.appendChild(div); chat.scrollTop=chat.scrollHeight;
    }

    async function send(){
      const text = input.value.trim(); if(!text) return; input.value='';
      push(text,true);
      try{
        const country = sel.value;
        const r = await fetch('/api/chat-country',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user:text,country})});
        if(!r.ok){ push('Server error. Try again later.'); return; }
        const t = await r.text();
        push(t || 'Sorry, no response generated.');
      }catch(e){ push('Network error.'); }
    }
  </script>
</body>
</html>
